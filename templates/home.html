<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
       #chat-history {
        width: 95%;
        height: 400px;
       }
       #prompt-input {
        width: 80%
       }
       #prompt-send {
        width: 15%
       }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script>
        $( document ).ready(function() {

            var addMessage = function(text, sender) {
                // var $tr = $("<tr></tr>");
                // $tr.append("<td>" + sender + "</td>");
                // $tr.append("<td><textarea>"+ text +"</textarea></td>");

                // $("#chat-history-table").append($tr);
                var now = new Date().toLocaleTimeString();
                $("#chat-history").append(now + " " + sender + ":\n");
                $("#chat-history").append(text);
                $("#chat-history").append("\n=============================================================================\n");

            }

            $("#prompt-send").click(function() {
                var text = $("#prompt-input").val();
                $("#prompt-input").val("");
                addMessage(text, "Engineer");
                $.ajax({
                    url: "https://flask-hello-world-hk41.onrender.com/"+text, 
                    success: function(result){
                        addMessage(result, "AI Assistant");
                    }
                  });

            })
            
        });
    
    </script>
</head>
<body>
<h1>Інтелектуальна система підтримки</h1>
<textarea id="chat-history"></textarea>
<input type="text" id="prompt-input"/>
<input type="button" id="prompt-send" value="Спитати"/>

<!-- <table>
    <thead>
        <th>Sender</th>
        <th>Message</th>
        <th>Action</th>
    </thead>
    <tbody id="chat-history-table">
        
    </tbody>
</table> -->

</body>
</html>
